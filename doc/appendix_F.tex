The VOMDL standard has been designed to provide machine readable serializations of data models. 
This feature makes MIVOT working for any model.
It is therefore strongly recommended to build annotations from VODML resources.

IVOA models are released with the following resources:
\begin{itemize}
    \item The standard specification (pdf)
    \item The VODML specification (model-vx.y.vodml.xml)
    \item An HTML representation of the model generated from the VODML file by a style sheet.    
\end{itemize}

Both PDF and HTML are accessible through the standard landing page
on \url{https://ivoa.net/documents/index.html}.
VODML files are accessible from \url{https://ivoa.net/xml/index.html}.

This document does not specify algorithms converting VODML objects 
into MIVOT elements. However, the snippets below, based in a simple PhotDM class,
illustrate the process.

\begin{lstlisting}[caption={VODML representation of the PhotDM class \texttt{Access}.
This is an object type with 3 attributes, each one with a cardinality equal  to 1. 
At this stage, we do not know whether attributes are typed with a complex types 
or primitive types. This will come later on by going through their own VODML definitions.},language=XML]
  <objectType>
    <vodml-id>Access</vodml-id>
    <name>Access</name>
    <description>Gathers all properties to access a resource : uri, format and size . 
    </description>
    <attribute>
      <vodml-id>Access.reference</vodml-id>
      <name>reference</name>
      <description>URI to access the resource.</description>
      <datatype>
        <vodml-ref>ivoa:anyURI</vodml-ref>
      </datatype>
      <multiplicity>
        <minOccurs>1</minOccurs>
        <maxOccurs>1</maxOccurs>
      </multiplicity>
    </attribute>
    <attribute>
      <vodml-id>Access.size</vodml-id>
      <name>size</name>
      <description>Approximate estimated size of the dataset, specified in kilobytes.</description>
      <datatype>
        <vodml-ref>ivoa:integer</vodml-ref>
      </datatype>
      <multiplicity>
        <minOccurs>1</minOccurs>
        <maxOccurs>1</maxOccurs>
      </multiplicity>
    </attribute>
    <attribute>
      <vodml-id>Access.format</vodml-id>
      <name>format</name>
      <description>Format of the accessed resource. </description>
      <datatype>
        <vodml-ref>ivoa:string</vodml-ref>
      </datatype>
      <multiplicity>
        <minOccurs>1</minOccurs>
        <maxOccurs>1</maxOccurs>
      </multiplicity>
    </attribute>
  </objectType>
\end{lstlisting}  

Basically the VODML to MIVOT translation obeys to the following rules:
\begin{itemize}
    \item Both data and object types are converted into MIVOT \texttt{INSTANCE}s. 
    \item VODML attributes with a cardinality equal to 1 and a primitive type 
          are converted into MIVOT \texttt{ATTRIBUTE}s. 
    \item VODML attributes with a cardinality greater than 1 are enclosed into MIVOT \texttt{COLLECTION}s. 
    \item VODML compositions with a cardinality greater than 1 are enclosed into MIVOT \texttt{COLLECTION}s.     
\end{itemize} 

\begin{lstlisting}[caption={MIVOT instanciation of the PhotDM class \texttt{Access}. 
VODML attributes are mapped as simple \texttt{ATTRIBUTE}s since their cardinality is equal to 
1 and they have primitive types. In this example, automatically 
generated, \texttt{ATTRIBUTE}s come with both \texttt{@ref} and \texttt{@value}. Using one, the other or both 
depends on the actual data being annotated (see \ref{ATTRIBUTE}). 
The cryptic  "@@@@@" labels are due to a trick of the annoter tool. They must be replaced with the 
 actual \texttt{FIELD} names for attributes that are set from field values.
},language=XML]
      <INSTANCE dmrole="Phot:TransmissionCurve.access" dmtype="Phot:Access">
         <ATTRIBUTE dmrole="Phot:Access.reference" dmtype="ivoa:anyURI" ref="@@@@@" value=""/>
         <ATTRIBUTE dmrole="Phot:Access.size" dmtype="ivoa:integer" unit="" ref="@@@@@" value=""/>
         <ATTRIBUTE dmrole="Phot:Access.format" dmtype="ivoa:string" ref="@@@@@" value=""/>
      </INSTANCE>
\end{lstlisting}  

The conversion rules are a bit more complex when we have to tackle with inheritance or constraints.
Abstract classes should not be mapped into MIVOT as such. They must be mapped as concrete classes 
whose type depends on the mapped data (e.g. the error type associated with one measurement).

This simple example has been generated by the \texttt{snippet\_builder} module of the MIVOT validator 
(\url{https://github.com/ivoa/mivot-validator}).

