The \texttt{TEMPLATES} block defines a template for deriving multiple data model instances,
one for each row of the associated VOTable \texttt{TABLE}.  A subset of the associated
\texttt{TABLE} rows may be selected using the \texttt{WHERE} syntax element.

\begin{lstlisting}[frame=single,caption={Example \texttt{TEMPLATES} block},style=XML,basicstyle=\tiny]
<dm-mapping:VODML>
  <dm-mapping:MODEL name="sample" url="https://www.ivoa.net/xml/DNE/Sample-v1.0.vo-dml.xml" />
  <dm-mapping:MODEL name="ivoa"   url="https://www.ivoa.net/xml/IVOA-v1.vo-dml.xml" />
  <dm-mapping:TEMPLATES tableref='Results'>
    <!-- instance template -->
    <dm-mapping:INSTANCE dmtype="sample:Thing">
      <dm-mapping:ATTRIBUTE dmrole="sample:Thing.name" dmtype="ivoa:string" ref="_field1"/>
      <dm-mapping:ATTRIBUTE dmrole="sample:Thing.date" dmtype="ivoa:string" ref="_field2"/>
      ...
    </dm-mapping:INSTANCE>
  </dm-mapping:TEMPLATES>
</dm-mapping:VODML>
\end{lstlisting}

\begin{table}[!htbp]
  \small
  \centering
  \begin{tabulary}{\linewidth}{|c|J|}
    \hline 
         \textbf{Attribute} & 
         \textbf {Role}\\
    \hline
    \hline  
         \texttt{@tableref} & 
         ID of the mapped VOTable \texttt{TABLE}.\\
    \hline 
  \end{tabulary}
  \caption{\texttt{TEMPLATES} attributes} 
  \label{tbl:templates-att}
\end{table}

\begin{table}[!htbp]
  \small
  \centering
  \begin{tabulary}{\linewidth}{|c|J|}
    \hline 
        \textbf{@tableref} &
        \textbf{Pattern}\\
    \hline
    \hline  
        OPT &           
        If \texttt{@tableref} is not present, \texttt{TEMPLATES} maps the first \texttt{TABLE} of the \texttt{RESOURCE}\\
    \hline 
  \end{tabulary}
  \caption{Valid attribute patterns for  \texttt{TEMPLATES}} 
  \label{tbl:templates-pattern}
 \end{table}

\begin{table}[!htbp]
  \small
  \centering
  \begin{tabulary}{\linewidth}{|c |c |c|J|}
    \hline 
        \textbf{Element} &
        \textbf{Position} &
        \textbf{Occurs} &
        \\
    \hline
    \hline  
        \texttt{WHERE}  &        
        1 &           
        0-* &
        The mapping applies to rows matching the \texttt{WHERE} condition only\\
    \hline    
        \texttt{INSTANCE} &           
        2 &           
        0-* &
        Mapped instance templates\\
    \hline 
  \end{tabulary}
  \caption{Allowed children for \texttt{TEMPLATES}} 
  \label{tbl:templates-children}
\end{table}
